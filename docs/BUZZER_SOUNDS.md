# üîä Buzzer Sound System

## –û–ø–∏—Å–∞–Ω–∏–µ

–†–æ–±–æ—Ç –æ—Å–Ω–∞—â–µ–Ω **–¥–≤—É–º—è –ø–∞—Å—Å–∏–≤–Ω—ã–º–∏ –±—É–∑–µ—Ä–∞–º–∏** –Ω–∞ GPIO9:
- **Main Controller** (–ø–µ—Ä–µ–¥–Ω—è—è —á–∞—Å—Ç—å —Ä–æ–±–æ—Ç–∞)
- **Aux Controller** (–∑–∞–¥–Ω—è—è —á–∞—Å—Ç—å —Ä–æ–±–æ—Ç–∞)

–ë—É–∑–µ—Ä—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å **–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ** –∏–ª–∏ –≤ **–¥—É—ç—Ç–µ** (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ CAN).

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–≤—É–∫–∏

| –ó–≤—É–∫ | Enum | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|------|----------|
| –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ | `SOUND_STARTUP` | –í–æ—Å—Ö–æ–¥—è—â–∞—è –º–µ–ª–æ–¥–∏—è –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ (C-E-G-C) |
| –û–¥–∏–Ω–æ—á–Ω—ã–π –≥–∞–≤ | `SOUND_BARK_SINGLE` | –ö–æ—Ä–æ—Ç–∫–æ–µ –≥–∞–≤–∫–∞–Ω—å–µ "–≥–∞–≤!" |
| –î–≤–æ–π–Ω–æ–π –≥–∞–≤ | `SOUND_BARK_DOUBLE` | "–ì–∞–≤-–≥–∞–≤!" |
| –ó–ª–æ–µ —Ä—ã—á–∞–Ω–∏–µ | `SOUND_BARK_ANGRY` | –ù–∏–∑–∫–∏–µ –≤–∏–±—Ä–∏—Ä—É—é—â–∏–µ –∑–≤—É–∫–∏ |
| –ö–æ—Ä–æ—Ç–∫–∏–π —Å–∏–≥–Ω–∞–ª | `SOUND_BEEP_SHORT` | 50–º—Å –ø–∏—Å–∫ |
| –î–ª–∏–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª | `SOUND_BEEP_LONG` | 300–º—Å –ø–∏—Å–∫ |
| –£—Å–ø–µ—Ö | `SOUND_SUCCESS` | –í–æ—Å—Ö–æ–¥—è—â–∞—è –º–µ–ª–æ–¥–∏—è (C-E-G) |
| –û—à–∏–±–∫–∞ | `SOUND_ERROR` | –ù–∏—Å—Ö–æ–¥—è—â–∞—è –º–µ–ª–æ–¥–∏—è (G-E-C) |
| –¢—Ä–µ–≤–æ–≥–∞ | `SOUND_ALARM` | –°–∏—Ä–µ–Ω–∞ (800-600 Hz) |
| –†–∞–¥–æ—Å—Ç—å | `SOUND_MELODY_HAPPY` | –í–µ—Å–µ–ª–∞—è –º–µ–ª–æ–¥–∏—è (C-D-E-C-E-G) |

## –°–æ–±—ã—Ç–∏—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–≤—É–∫–∞–º–∏

### Main Controller
- **–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏** ‚Üí `SOUND_STARTUP` (–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ)
- **ARM –º–æ—Ç–æ—Ä–æ–≤ (CH5 –≤–∫–ª)** ‚Üí `SOUND_BARK_DOUBLE` **—Å –¥—É—ç—Ç–æ–º!** üêïüêï
- **DISARM –º–æ—Ç–æ—Ä–æ–≤ (CH5 –≤—ã–∫–ª)** ‚Üí `SOUND_BEEP_SHORT`
- **–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –≤–∫–ª (CH8)** ‚Üí `SOUND_SUCCESS`
- **–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –≤—ã–∫–ª (CH8)** ‚Üí `SOUND_BEEP_SHORT`

### Aux Controller
- **–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏** ‚Üí `SOUND_BARK_SINGLE` (—Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 300–º—Å –æ—Ç main)
- **CAN –∫–æ–º–∞–Ω–¥—ã –æ—Ç main** ‚Üí –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –¥—É—ç—Ç–Ω—ã—Ö –∑–≤—É–∫–æ–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### Main Controller

```cpp
// –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–≤—É–∫ —Ç–æ–ª—å–∫–æ –Ω–∞ main
robot.playSound(SOUND_BARK_SINGLE, false);

// –î—É—ç—Ç - –∑–≤—É–∫ –Ω–∞ main –ò aux –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
robot.playSound(SOUND_BARK_DOUBLE, true);

// –ü—Ä—è–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É–∑–µ—Ä–æ–º
robot.buzzer.play(SOUND_SUCCESS);
robot.buzzer.tone(1000, 500);  // 1000 Hz, 500–º—Å
robot.buzzer.stop();
```

### Aux Controller

```cpp
// –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–≤—É–∫
buzzer.play(SOUND_BARK_ANGRY);

// –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ç–æ–Ω
buzzer.tone(440, 200);  // 440 Hz (–Ω–æ—Ç–∞ –õ—è), 200–º—Å
```

## CAN –ø—Ä–æ—Ç–æ–∫–æ–ª –¥—É—ç—Ç–∞

Main –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –±—É–∑–µ—Ä–∞:
```
CAN ID: 0x100 (CAN_ID_MAIN_TO_AUX)
Data[0] = 0xFF       // –ú–∞—Ä–∫–µ—Ä –∫–æ–º–∞–Ω–¥—ã –±—É–∑–µ—Ä–∞
Data[1] = sound      // BuzzerSound enum (0-10)
```

Aux –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ç–æ—Ç –∂–µ –∑–≤—É–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **GPIO:** 9 (–Ω–∞ –æ–±–µ–∏—Ö –ø–ª–∞—Ç–∞—Ö)
- **PWM –∫–∞–Ω–∞–ª—ã:** 
  - Main: –∫–∞–Ω–∞–ª 0
  - Aux: –∫–∞–Ω–∞–ª 1
- **–ß–∞—Å—Ç–æ—Ç–∞ PWM:** 2000 Hz (–±–∞–∑–æ–≤–∞—è)
- **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ:** 8 –±–∏—Ç (0-255)
- **Duty cycle:** 50% (128) –¥–ª—è —Ç–æ–Ω–æ–≤
- **–î–∏–∞–ø–∞–∑–æ–Ω —á–∞—Å—Ç–æ—Ç:** 50-20000 Hz

## –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ

–í—Å–µ –∑–≤—É–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è **–Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ**:
- `buzzer.update()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ `loop()`
- –ú–µ–ª–æ–¥–∏–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ–∫–∞ `buzzer.isPlaying() == true`
- –ú–æ–∂–Ω–æ –ø—Ä–µ—Ä–≤–∞—Ç—å –∑–≤—É–∫: `buzzer.stop()`

## –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –∑–≤—É–∫–æ–≤

–†–µ–¥–∞–∫—Ç–∏—Ä—É–π `Buzzer.cpp`, —Ñ—É–Ω–∫—Ü–∏—é `play()`:

```cpp
case SOUND_MY_CUSTOM: {
    Note notes[] = {
        {NOTE_C5, 150},   // –î–æ (523 Hz), 150–º—Å
        {NOTE_E5, 150},   // –ú–∏ (659 Hz), 150–º—Å
        {NOTE_PAUSE, 50}, // –ü–∞—É–∑–∞ 50–º—Å
        {NOTE_G5, 300}    // –°–æ–ª—å (784 Hz), 300–º—Å
    };
    playMelody(notes, 4);
    break;
}
```

## –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### "–ì–∞–≤–∫–∞—é—â–∞—è —Å–æ–±–∞–∫–∞-—Ä–æ–±–æ—Ç"
```cpp
// –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
robot.playSound(SOUND_BARK_ANGRY, true);  // –ó–ª–æ–µ —Ä—ã—á–∞–Ω–∏–µ –¥—É—ç—Ç–æ–º

// –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç—Ä—é–∫–∞
robot.playSound(SOUND_MELODY_HAPPY, false);  // –†–∞–¥–æ—Å—Ç—å
```

### –ò–Ω–¥–∏–∫–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π
```cpp
// –ù–∏–∑–∫–∏–π –∑–∞—Ä—è–¥ –±–∞—Ç–∞—Ä–µ–∏
buzzer.play(SOUND_ALARM);

// –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞
buzzer.play(SOUND_SUCCESS);

// –û—à–∏–±–∫–∞ –¥–∞—Ç—á–∏–∫–∞
buzzer.play(SOUND_ERROR);
```

---

**Made with üéµ for StackForce Quadrupedal Robot**
