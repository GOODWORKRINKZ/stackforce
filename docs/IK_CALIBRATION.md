# –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –æ—Ñ—Å–µ—Ç–æ–≤ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∏

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º—É–ª–µ IK (—Å—Ç—Ä–æ–∫–∞ 160: `bRight` –≤–º–µ—Å—Ç–æ `aRight`) –Ω–æ–≥–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ "—Ä–∞—Å–ø–∏–¥–æ—Ä–∞—à–∏–≤–∞–µ—Ç" –Ω–∞ —Å—Ç–∞—Ä—Ç–µ. –ü—Ä–∏—á–∏–Ω–∞: –æ—Ñ—Å–µ—Ç—ã –±—ã–ª–∏ –æ—Ç–∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω—ã –¥–ª—è –ø—Ä—è–º–æ–≥–æ —Ä–µ–∂–∏–º–∞ (90¬∞ + –æ—Ñ—Å–µ—Ç), –Ω–æ IK –≤—ã—á–∏—Å–ª—è–µ—Ç –¥—Ä—É–≥–∏–µ —É–≥–ª—ã (144¬∞/240¬∞ –¥–ª—è X=0, Y=115).

## –†–µ—à–µ–Ω–∏–µ
–ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–≤—É—Ö—Ä–µ–∂–∏–º–Ω—É—é –ø—Ä–æ—à–∏–≤–∫—É –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ñ—Å–µ—Ç–æ–≤!

## –ü—Ä–æ—à–∏–≤–∫–∞ servo_calibration - –î–í–ê –†–ï–ñ–ò–ú–ê

### –†–µ–∂–∏–º 1: –ü–†–Ø–ú–ê–Ø –ö–ê–õ–ò–ë–†–û–í–ö–ê (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –°–µ—Ä–≤–æ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é: `90¬∞ + –æ—Ñ—Å–µ—Ç`
- –ö–æ–º–∞–Ω–¥–∞ `o<–∫–∞–Ω–∞–ª> <–æ—Ñ—Å–µ—Ç>` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ñ—Å–µ—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–∞–∑–æ–≤–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –º–µ—Ö–∞–Ω–∏–∫–∏

### –†–µ–∂–∏–º 2: IK –ö–ê–õ–ò–ë–†–û–í–ö–ê
- –û–±—Ä–∞—Ç–Ω–∞—è –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∞: `IK(X, Y) + –æ—Ñ—Å–µ—Ç`
- –ö–æ–º–∞–Ω–¥—ã `x <–∑–Ω–∞—á–µ–Ω–∏–µ>` –∏ `y <–∑–Ω–∞—á–µ–Ω–∏–µ>` –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ IK

## –ö–æ–º–∞–Ω–¥—ã Serial (115200 baud)

### –û–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:
- `m` - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º (–∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ ‚Üî IK)
- `o<–∫–∞–Ω–∞–ª> <–æ—Ñ—Å–µ—Ç>` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ñ—Å–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: `o2 40`)
- `p` - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –æ—Ñ—Å–µ—Ç—ã –∏ —Ä–µ–∂–∏–º
- `l` - –∞–≤—Ç–æ–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ IMU
- `r` - —Å–±—Ä–æ—Å–∏—Ç—å –æ—Ñ—Å–µ—Ç—ã –≤ 0
- `h` - —Å–ø—Ä–∞–≤–∫–∞

### –ö–æ–º–∞–Ω–¥—ã IK —Ä–µ–∂–∏–º–∞ (—Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ `m`):
- `x <–∑–Ω–∞—á–µ–Ω–∏–µ>` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å X –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: `x 0`)
- `y <–∑–Ω–∞—á–µ–Ω–∏–µ>` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: `y 115`)

## –ü—Ä–æ—Ü–µ—Å—Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏

### –®–∞–≥ 1: –ë–∞–∑–æ–≤–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ (–†–ï–ñ–ò–ú –ü–†–Ø–ú–û–ô)
```
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—à–∏–≤–∫—É servo_calibration
2. –û—Ç–∫—Ä—ã—Ç—å Serial Monitor (115200 baud)
3. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ä–µ–∂–∏–º = –ü–†–Ø–ú–ê–Ø –ö–ê–õ–ò–ë–†–û–í–ö–ê
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–æ–±–æ—Ç–∞ –Ω–∞ –≤—ã—Å–æ—Ç—É 115–º–º (–Ω–æ–≥–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ)
5. –ü–æ–¥–æ–±—Ä–∞—Ç—å –æ—Ñ—Å–µ—Ç—ã –∫–æ–º–∞–Ω–¥–æ–π 'o' —á—Ç–æ–±—ã –Ω–æ–≥–∏ –±—ã–ª–∏ —Å—Ç—Ä–æ–≥–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ñ—Å–µ—Ç—ã (–∫–æ–º–∞–Ω–¥–∞ 'p' –¥–ª—è –≤—ã–≤–æ–¥–∞)
```

### –®–∞–≥ 2: IK –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ (–†–ï–ñ–ò–ú IK)
```
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤ IK —Ä–µ–∂–∏–º: –∫–æ–º–∞–Ω–¥–∞ 'm'
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: 'x 0' –∏ 'y 115'
3. –ù–∞–±–ª—é–¥–∞—Ç—å –∫–∞–∫ –Ω–æ–≥–∏ –ø–µ—Ä–µ–º–µ—Å—Ç—è—Ç—Å—è –≤ –ø–æ–∑–∏—Ü–∏—é IK(0, 115)
4. –ü–æ–¥–æ–±—Ä–∞—Ç—å –æ—Ñ—Å–µ—Ç—ã 'o' —á—Ç–æ–±—ã –Ω–æ–≥–∏ –±—ã–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã –í –≠–¢–û–ô –ü–û–ó–ò–¶–ò–ò
5. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ Y: 'y 100', 'y 120', 'y 130' –∏ —Ç.–¥.
6. –ù–∞–π—Ç–∏ Y –≥–¥–µ –Ω–æ–≥–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã —Å —Ç–µ–∫—É—â–∏–º–∏ –æ—Ñ—Å–µ—Ç–∞–º–∏
7. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è Y –∏ –æ—Ñ—Å–µ—Ç—ã
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ main_controller
```cpp
// –í —Ñ–∞–π–ª–µ main_controller/src/main.cpp –æ–±–Ω–æ–≤–∏—Ç—å:
Y = <–Ω–∞–π–¥–µ–Ω–Ω–æ–µ_–∑–Ω–∞—á–µ–Ω–∏–µ>;  // –í–º–µ—Å—Ç–æ 115
Y_demand = <–Ω–∞–π–¥–µ–Ω–Ω–æ–µ_–∑–Ω–∞—á–µ–Ω–∏–µ>;

// –í quadrupedal_data.h –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ñ—Å–µ—Ç—ã:
#define SERVO_FL_FRONT_OFFSET <–Ω–æ–≤—ã–π_–æ—Ñ—Å–µ—Ç>
// ... –∏ —Ç.–¥.
```

## Python GUI

### –ù–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- –ö–Ω–æ–ø–∫–∞ **"üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º (m)"** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏
- –ü–æ–ª—è **X** –∏ **Y** - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ IK –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –ö–Ω–æ–ø–∫–∏ **"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å X/Y"** - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å: `python calibration_gui.py`
2. –í—ã–±—Ä–∞—Ç—å COM –ø–æ—Ä—Ç
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–∞–π–¥–µ—Ä—ã –¥–ª—è –±–∞–∑–æ–≤–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
4. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤ IK —Ä–µ–∂–∏–º –∫–Ω–æ–ø–∫–æ–π
5. –ú–µ–Ω—è—Ç—å X, Y –∏ –æ—Ñ—Å–µ—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ß—Ç–æ –º—ã –∏—â–µ–º:
- **–í–∞—Ä–∏–∞–Ω—Ç –ê**: –ù–∞–π—Ç–∏ Y –≥–¥–µ –Ω–æ–≥–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã –ø—Ä–∏ X=0 —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –æ—Ñ—Å–µ—Ç–∞–º–∏
- **–í–∞—Ä–∏–∞–Ω—Ç –ë**: –ü—Ä–∏–Ω—è—Ç—å —á—Ç–æ –Ω–æ–≥–∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–¥–µ–∞–ª—å–Ω–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã –ø—Ä–∏ X=0, –Ω–∞–π—Ç–∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å
- **–í–∞—Ä–∏–∞–Ω—Ç –í**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å X‚â†0 –¥–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–æ–≥ (–Ω–µ–±–æ–ª—å—à–æ–π –Ω–∞–∫–ª–æ–Ω –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥)

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:
- ‚úÖ –ù–æ–≥–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ –¥–µ—Ä–∂–∞—Ç —Ä–æ–±–æ—Ç–∞ –Ω–∞ 115–º–º –≤—ã—Å–æ—Ç–µ
- ‚úÖ –ù–µ—Ç "—Ä–∞—Å–ø–∏–¥–æ—Ä–∞—à–∏–≤–∞–Ω–∏—è" –Ω–∞ —Å—Ç–∞—Ä—Ç–µ
- ‚úÖ IMU –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Pitch ‚âà 0¬∞, Roll ‚âà 0¬∞
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –≤ IK —Ä–µ–∂–∏–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–ª–∞–≤–Ω–æ –±–µ–∑ —Ä—ã–≤–∫–æ–≤

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ IK:
```cpp
// –ë–´–õ–û –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
alpha1 = 2 * atan((aRight + sqrt(...)) / (aRight + cRight));

// –°–¢–ê–õ–û –ü–†–ê–í–ò–õ–¨–ù–û:
alpha1 = 2 * atan((bRight + sqrt(...)) / (aRight + cRight));
```

### –ì–µ–æ–º–µ—Ç—Ä–∏—è 5-–∑–≤–µ–Ω–Ω–∏–∫–∞:
- L1 = 60mm (–≤–µ—Ä—Ö–Ω–µ–µ –∑–∞–¥–Ω–µ–µ –∑–≤–µ–Ω–æ)
- L2 = 100mm (—Å—Ä–µ–¥–Ω–µ–µ –∑–∞–¥–Ω–µ–µ –∑–≤–µ–Ω–æ)
- L3 = 100mm (—Å—Ä–µ–¥–Ω–µ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ –∑–≤–µ–Ω–æ)
- L4 = 60mm (–≤–µ—Ä—Ö–Ω–µ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ –∑–≤–µ–Ω–æ)
- L5 = 40mm (—Å–º–µ—â–µ–Ω–∏–µ)

### –¢–µ–∫—É—â–∏–µ –æ—Ñ—Å–µ—Ç—ã (–ø—Ä—è–º–æ–π —Ä–µ–∂–∏–º):
```
FL: FRONT=40, REAR=27
FR: FRONT=-45, REAR=-16
BL: FRONT=-22, REAR=-13
BR: FRONT=44, REAR=5
```

## –§–∞–π–ª—ã

- **–ü—Ä–æ—à–∏–≤–∫–∞**: `firmware/servo_calibration/src/main.cpp`
- **GUI**: `calibration_gui.py`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `firmware/main_controller/include/quadrupedal_data.h`
- **–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ—à–∏–≤–∫–∞**: `firmware/main_controller/src/main.cpp`
