# ‚ö° –ë—ã—Å—Ç—Ä–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥–æ–≤

## üéØ –ö–∞–∫ –¥–æ–ª–∂–Ω—ã —Å—Ç–æ—è—Ç—å –Ω–æ–≥–∏ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏

### –î–∞–Ω–Ω—ã–µ –∏–∑ –∫–∏—Ç–∞–π—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ (lesson5_Stable):

```cpp
// –ú–ò–ù–ò–ú–ê–õ–¨–ù–ê–Ø –í–´–°–û–¢–ê (–¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏):
Y = 70mm   // –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ç–æ—á–∫–∏ –∫—Ä–µ–ø–ª–µ–Ω–∏—è –¥–æ –∫–æ–ª–µ—Å–∞
X = 0mm    // –í—Å–µ –Ω–æ–≥–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ

// –†–ê–ë–û–ß–ê–Ø –í–´–°–û–¢–ê (–ø–æ—Å–ª–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏):
Y = 110mm  // –ë–∞–∑–æ–≤–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
X_–ø–µ—Ä–µ–¥–Ω–∏–µ = +20mm  // –ü–µ—Ä–µ–¥–Ω–∏–µ –Ω–æ–≥–∏ –Ω–∞–∫–ª–æ–Ω–µ–Ω—ã –≤–ø–µ—Ä–µ–¥
X_–∑–∞–¥–Ω–∏–µ = -20mm    // –ó–∞–¥–Ω–∏–µ –Ω–æ–≥–∏ –Ω–∞–∫–ª–æ–Ω–µ–Ω—ã –Ω–∞–∑–∞–¥
```

---

## üìê –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ–∑—ã

### –í–ò–î –°–ë–û–ö–£ (–æ–¥–Ω–∞ –Ω–æ–≥–∞):

```
        –ö–æ—Ä–ø—É—Å
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         ‚îÇ
         ‚óè  ‚Üê –ü–ª–µ—á–µ–≤–æ–π —Å—É—Å—Ç–∞–≤ (—Ç–æ—á–∫–∞ –∫—Ä–µ–ø–ª–µ–Ω–∏—è)
        ‚ï±‚îÇ‚ï≤
       ‚ï± ‚îÇ ‚ï≤  L1=60mm
      ‚óè  ‚îÇ  ‚Üê –ü–µ—Ä–µ–¥–Ω–∏–π —Å–µ—Ä–≤–æ (Œ± —É–≥–æ–ª)
      ‚îÇ  ‚îÇ
      ‚îÇ  ‚îÇ  L2=100mm
      ‚îÇ  ‚îÇ
      ‚óè  ‚îÇ  ‚Üê –ó–∞–¥–Ω–∏–π —Å–µ—Ä–≤–æ (Œ≤ —É–≥–æ–ª)
      ‚îÇ  ‚îÇ
      ‚îÇ  ‚îÇ  L3=100mm + L4=60mm
      ‚îÇ  ‚îÇ
      ‚óè  ‚îÇ  ‚Üê –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Ç–æ—á–∫–∞
      ‚îÇ
     70mm (–Ω–∞—á–∞–ª—å–Ω–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞)
   –∏–ª–∏ 110mm (—Ä–∞–±–æ—á–∞—è –≤—ã—Å–æ—Ç–∞)
      ‚îÇ
      ‚óã  ‚Üê –ö–æ–ª–µ—Å–æ –Ω–∞ –∑–µ–º–ª–µ
```

### –í–ò–î –°–í–ï–†–•–£ (–≤—Å–µ 4 –Ω–æ–≥–∏):

```
         –ü–ï–†–ï–î–ù–Ø–Ø –ß–ê–°–¢–¨
              ‚Üë
              
    FL(X=+20)       FR(X=+20)
       ‚óè                ‚óè
       ‚îÇ‚ï≤            ‚ï±‚îÇ
       ‚îÇ  ‚ï≤        ‚ï±  ‚îÇ
       ‚îÇ    ‚ï≤    ‚ï±    ‚îÇ
       ‚îÇ      ‚ï≤‚ï±      ‚îÇ
       ‚îÇ  –ö–û–†–ü–£–° –†–û–ë–û–¢–ê‚îÇ
       ‚îÇ      ‚ï±‚ï≤      ‚îÇ
       ‚îÇ    ‚ï±    ‚ï≤    ‚îÇ
       ‚îÇ  ‚ï±        ‚ï≤  ‚îÇ
       ‚îÇ‚ï±            ‚ï≤‚îÇ
       ‚óè                ‚óè
    BL(X=-20)       BR(X=-20)
    
              ‚Üì
         –ó–ê–î–ù–Ø–Ø –ß–ê–°–¢–¨
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∑—ã

### –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —Ä–æ–±–æ—Ç–∞ —Å –æ—Ñ—Ñ—Å–µ—Ç–∞–º–∏ = 0:

- [ ] **–í—Å–µ 4 –∫–æ–ª–µ—Å–∞ –∫–∞—Å–∞—é—Ç—Å—è –∑–µ–º–ª–∏**
- [ ] **–ö–æ—Ä–ø—É—Å –ø–∞—Ä–∞–ª–ª–µ–ª–µ–Ω –ø–æ–ª—É** (–Ω–µ—Ç –Ω–∞–∫–ª–æ–Ω–∞ –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥/–≤–±–æ–∫)
- [ ] **–í—ã—Å–æ—Ç–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è** —É –≤—Å–µ—Ö –Ω–æ–≥ (~70-110mm)
- [ ] **–ü–µ—Ä–µ–¥–Ω–∏–µ –Ω–æ–≥–∏ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã** (FL = FR –∑–µ—Ä–∫–∞–ª—å–Ω–æ)
- [ ] **–ó–∞–¥–Ω–∏–µ –Ω–æ–≥–∏ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã** (BL = BR –∑–µ—Ä–∫–∞–ª—å–Ω–æ)
- [ ] **–õ–µ–≤—ã–µ –Ω–æ–≥–∏ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã** (FL = BL –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ)
- [ ] **–ü—Ä–∞–≤—ã–µ –Ω–æ–≥–∏ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã** (FR = BR –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ)

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ù–ï —Ç–∞–∫:

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–Ω–∞ –Ω–æ–≥–∞ –∫–æ—Ä–æ—á–µ/–¥–ª–∏–Ω–Ω–µ–µ –¥—Ä—É–≥–∏—Ö
**–†–µ—à–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `SERVO_XX_FRONT_OFFSET` –∏ `SERVO_XX_REAR_OFFSET` –≤ `quadrupedal_data.h`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ—Ä–ø—É—Å –Ω–∞–∫–ª–æ–Ω–µ–Ω –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–¥–Ω–∏–µ –∏ –∑–∞–¥–Ω–∏–µ –ø–∞—Ä—ã (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ—Ä–ø—É—Å –Ω–∞–∫–ª–æ–Ω–µ–Ω –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–µ–≤—ã–µ –∏ –ø—Ä–∞–≤—ã–µ –ø–∞—Ä—ã (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–µ—Ä–∫–∞–ª—å–Ω—ã–º–∏)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–æ–≥–∞ "–≤—ã–≤–µ—Ä–Ω—É—Ç–∞" –Ω–∞ 180¬∞
**–†–µ—à–µ–Ω–∏–µ:** –°–Ω—è—Ç—å —Å–µ—Ä–≤–æ—Ä—ã—á–∞–≥, –ø–æ–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ ~180¬∞ (9-10 –∑—É–±—Ü–æ–≤), —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ

---

## üîß –ü—Ä–æ—Ü–µ—Å—Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ (5 —à–∞–≥–æ–≤)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –æ—Ñ—Ñ—Å–µ—Ç—ã –≤ 0

–§–∞–π–ª: `firmware/main_controller/include/quadrupedal_data.h`

```cpp
#define SERVO_FL_FRONT_OFFSET 0
#define SERVO_FL_REAR_OFFSET  0
#define SERVO_FR_FRONT_OFFSET 0
#define SERVO_FR_REAR_OFFSET  0
#define SERVO_BL_FRONT_OFFSET ‚Üê –í–°–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨ 0
#define SERVO_BL_REAR_OFFSET  0
#define SERVO_BR_FRONT_OFFSET 0
#define SERVO_BR_REAR_OFFSET  0
```

### 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—à–∏–≤–∫—É

```powershell
cd firmware\main_controller
C:\Users\krikz\.platformio\penv\Scripts\platformio.exe run --target upload
```

### 3. –í–∫–ª—é—á–∏—Ç—å —Ä–æ–±–æ—Ç–∞ (–º–æ—Ç–æ—Ä—ã –æ—Ç–∫–ª—é—á–∏—Ç—å!)

‚ö†Ô∏è **–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:** –û—Ç–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ –º–æ—Ç–æ—Ä–æ–≤ –∏–ª–∏ –æ—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç–µ –∏—Ö!

### 4. –ò–∑–º–µ—Ä–∏—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è

–î–ª—è –∫–∞–∂–¥–æ–π –∫—Ä–∏–≤–æ–π –Ω–æ–≥–∏:

```
–í–∏–∑—É–∞–ª—å–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å —É–≥–æ–ª –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:
- –ù–æ–≥–∞ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–∞—è ‚Üí –Ω—É–∂–µ–Ω –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ñ—Ñ—Å–µ—Ç (+10, +15, +20...)
- –ù–æ–≥–∞ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∞—è ‚Üí –Ω—É–∂–µ–Ω –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ñ—Ñ—Å–µ—Ç (-10, -15, -20...)

–¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: –æ—Ç -30¬∞ –¥–æ +30¬∞
```

**–ü—Ä–∏–º–µ—Ä:**

```
FL (–ø–µ—Ä–µ–¥–Ω—è—è –ª–µ–≤–∞—è):
- –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∞—è ‚Üí SERVO_FL_REAR_OFFSET = +15
- –ù–∞–∫–ª–æ–Ω–µ–Ω–∞ –≤–ø–µ—Ä–µ–¥ ‚Üí SERVO_FL_FRONT_OFFSET = -10

FR (–ø–µ—Ä–µ–¥–Ω—è—è –ø—Ä–∞–≤–∞—è):
- –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–∞—è ‚Üí SERVO_FR_REAR_OFFSET = -12
- –ù–æ—Ä–º ‚Üí SERVO_FR_FRONT_OFFSET = 0
```

### 5. –í–Ω–µ—Å—Ç–∏ –æ—Ñ—Ñ—Å–µ—Ç—ã –∏ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∏—Ç—å

```cpp
// –ü—Ä–∏–º–µ—Ä –æ—Ç–∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:
#define SERVO_FL_FRONT_OFFSET -10
#define SERVO_FL_REAR_OFFSET  +15
#define SERVO_FR_FRONT_OFFSET 0
#define SERVO_FR_REAR_OFFSET  -12
// ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö 8 —Å–µ—Ä–≤–æ
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ‚Üí –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ ¬±5¬∞

---

## üìä –¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–∞–Ω–∞–ª–æ–≤

| –ö–∞–Ω–∞–ª PCA9685 | –ù–æ–≥–∞ | –°–µ—Ä–≤–æ | –ú–∞–∫—Ä–æ—Å | –û—Ñ—Ñ—Å–µ—Ç |
|---------------|------|-------|--------|--------|
| 3 | FL (–ø–µ—Ä–µ–¥–Ω—è—è –ª–µ–≤–∞—è) | –ü–µ—Ä–µ–¥–Ω–∏–π | `SERVO_FL_FRONT` | `SERVO_FL_FRONT_OFFSET` |
| 4 | FL (–ø–µ—Ä–µ–¥–Ω—è—è –ª–µ–≤–∞—è) | –ó–∞–¥–Ω–∏–π | `SERVO_FL_REAR` | `SERVO_FL_REAR_OFFSET` |
| 2 | FR (–ø–µ—Ä–µ–¥–Ω—è—è –ø—Ä–∞–≤–∞—è) | –ü–µ—Ä–µ–¥–Ω–∏–π | `SERVO_FR_FRONT` | `SERVO_FR_FRONT_OFFSET` |
| 1 | FR (–ø–µ—Ä–µ–¥–Ω—è—è –ø—Ä–∞–≤–∞—è) | –ó–∞–¥–Ω–∏–π | `SERVO_FR_REAR` | `SERVO_FR_REAR_OFFSET` |
| 7 | BL (–∑–∞–¥–Ω—è—è –ª–µ–≤–∞—è) | –ü–µ—Ä–µ–¥–Ω–∏–π | `SERVO_BL_FRONT` | `SERVO_BL_FRONT_OFFSET` |
| 8 | BL (–∑–∞–¥–Ω—è—è –ª–µ–≤–∞—è) | –ó–∞–¥–Ω–∏–π | `SERVO_BL_REAR` | `SERVO_BL_REAR_OFFSET` |
| 6 | BR (–∑–∞–¥–Ω—è—è –ø—Ä–∞–≤–∞—è) | –ü–µ—Ä–µ–¥–Ω–∏–π | `SERVO_BR_FRONT` | `SERVO_BR_FRONT_OFFSET` |
| 5 | BR (–∑–∞–¥–Ω—è—è –ø—Ä–∞–≤–∞—è) | –ó–∞–¥–Ω–∏–π | `SERVO_BR_REAR` | `SERVO_BR_REAR_OFFSET` |

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏

```
‚úÖ –†–æ–±–æ—Ç —Å—Ç–æ–∏—Ç —É—Å—Ç–æ–π—á–∏–≤–æ
‚úÖ –í—Å–µ 4 –∫–æ–ª–µ—Å–∞ –∫–∞—Å–∞—é—Ç—Å—è –∑–µ–º–ª–∏
‚úÖ –ö–æ—Ä–ø—É—Å –ø–∞—Ä–∞–ª–ª–µ–ª–µ–Ω –ø–æ–ª—É (–Ω–µ—Ç –∫—Ä–µ–Ω–∞/—Ç–∞–Ω–≥–∞–∂–∞)
‚úÖ –ù–æ–≥–∏ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã: FL‚ÜîFR, BL‚ÜîBR, FL‚ÜîBL, FR‚ÜîBR
‚úÖ –í—ã—Å–æ—Ç–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è (~70-110mm)
```

**–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –º–æ—Ç–æ—Ä—ã –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ!**

---

## üìñ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π –ø—Ä–æ–±–ª–µ–º, —Ç–µ—Å—Ç–æ–≤—ã–º –∫–æ–¥–æ–º –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏:

üëâ **[CALIBRATION.md](CALIBRATION.md)**
