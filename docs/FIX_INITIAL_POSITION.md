# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ù–æ–≥–∏ "—Ä–∞—Å–ø–∏–¥–æ—Ä–∞—à–∏–≤–∞–µ—Ç" –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ —Å –Ω—É–ª–µ–≤—ã–º–∏ –æ—Ñ—Ñ—Å–µ—Ç–∞–º–∏ (–Ω–æ–≥–∏ —Å—Ç–æ—è—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ) –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ main.cpp –Ω–æ–≥–∏ —É—Ö–æ–¥—è—Ç –≤ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏.

## –ü—Ä–∏—á–∏–Ω–∞

**–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç!**

### –ö–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–∞—è –ø—Ä–æ—à–∏–≤–∫–∞:
```cpp
// –ù–æ–≥–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞
Y = 70mm
X = 0mm
```

### Main.cpp (–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):
```cpp
// setup():
IKParam.YLeft = 90;   // ‚Üê –î–†–£–ì–ê–Ø –≤—ã—Å–æ—Ç–∞!
IKParam.YRight = 90;

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
float Y = 90;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±—Ä–∞—Ç–Ω–∞—è –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∞ —Å—á–∏—Ç–∞–µ—Ç —É–≥–ª—ã –¥–ª—è Y=90mm, –Ω–æ –æ—Ñ—Ñ—Å–µ—Ç—ã –æ—Ç–∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω—ã –¥–ª—è Y=70mm ‚Üí –Ω–æ–≥–∏ –∫—Ä–∏–≤—ã–µ!

---

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–æ –≤ `main.cpp`:

#### 1. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Å—Ç—Ä–æ–∫–∞ ~55):
```cpp
// –î–û:
float X = 0, Y = 90;
float Y_demand = 90;

// –ü–û–°–õ–ï:
float X = 0, Y = 70;   // ‚Üê –ö–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–∞—è –ø–æ–∑–∞
float Y_demand = 70;
```

#### 2. Setup() –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Å—Ç—Ä–æ–∫–∞ ~309):
```cpp
// –î–û:
IKParam.YLeft = 90;
IKParam.YRight = 90;

// –ü–û–°–õ–ï:
IKParam.YLeft = 70;   // ‚Üê –ö–∞–∫ –≤ lesson5_Stable
IKParam.YRight = 70;
```

---

## –ü—Ä–∏–Ω—Ü–∏–ø

**–ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∞ –≤ main.cpp –î–û–õ–ñ–ù–ê —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–æ–∑–µ –ø—Ä–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–µ!**

```
–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞:
Y = 70mm, X = 0mm
    ‚Üì
–ò–∑–º–µ—Ä—è–µ–º –æ—Ñ—Ñ—Å–µ—Ç—ã
    ‚Üì
–ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ quadrupedal_data.h
    ‚Üì
Main.cpp –î–û–õ–ñ–ï–ù —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å —Å:
IKParam.Y = 70mm, IKParam.X = 0mm
    ‚Üì
‚úÖ –ù–æ–≥–∏ –≤ –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–æ–π –ø–æ–∑–µ!
```

**–ü–æ—Ç–æ–º** —á–µ—Ä–µ–∑ RC —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤—ã—Å–æ—Ç—É Y (70-130mm) –∏ —Å–º–µ—â–µ–Ω–∏–µ X (¬±20mm).

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞

### 1. –ö–æ–º–ø–∏–ª—è—Ü–∏—è:
```powershell
cd firmware\main_controller
platformio run --environment esp32-s3-devkitc-1
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞:
```powershell
platformio run --target upload
```

### 3. –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏:
‚úÖ –ù–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ **–¢–û–ß–ù–û –¢–ê–ö–û–ô –ñ–ï** –ø–æ–∑–µ, –∫–∞–∫ –ø—Ä–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–µ (Y=70, X=0)
‚úÖ –í—Å–µ 4 –∫–æ–ª–µ—Å–∞ –∫–∞—Å–∞—é—Ç—Å—è –∑–µ–º–ª–∏
‚úÖ –ö–æ—Ä–ø—É—Å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–µ–Ω

### 4. –ß–µ—Ä–µ–∑ RC –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤—ã—Å–æ—Ç—É:
- –ö–∞–Ω–∞–ª 2 (Height) ‚Üí –º–µ–Ω—è–µ—Ç Y_demand
- –†–æ–±–æ—Ç –ø–ª–∞–≤–Ω–æ –ø–µ—Ä–µ–π–¥–µ—Ç –≤ –Ω–æ–≤—É—é –≤—ã—Å–æ—Ç—É

---

## –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –∫—Ä–∏–≤—ã–µ –Ω–æ–≥–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ñ—Ñ—Å–µ—Ç—ã –æ—Ç–∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **–í–°–ï** –æ—Ñ—Ñ—Å–µ—Ç—ã –≤ 0
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å main.cpp (—Å Y=70)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∑—É
4. –ò–∑–º–µ—Ä–∏—Ç—å –æ—Ñ—Ñ—Å–µ—Ç—ã –∑–∞–Ω–æ–≤–æ
5. –ó–∞–ø–∏—Å–∞—Ç—å –≤ quadrupedal_data.h
6. –ü–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å

---

## –¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ñ—Ñ—Å–µ—Ç–æ–≤

–ò–∑ `quadrupedal_data.h`:
```cpp
#define SERVO_FL_FRONT_OFFSET -27
#define SERVO_FL_REAR_OFFSET  -63
#define SERVO_FR_FRONT_OFFSET -153
#define SERVO_FR_REAR_OFFSET  -117

#define SERVO_BL_FRONT_OFFSET -27   // –∑–∞–¥–Ω–∏–µ = –ø–µ—Ä–µ–¥–Ω–∏–µ
#define SERVO_BL_REAR_OFFSET  -63
#define SERVO_BR_FRONT_OFFSET -153
#define SERVO_BR_REAR_OFFSET  -117
```

‚ö†Ô∏è **–û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ –æ—Ñ—Ñ—Å–µ—Ç—ã (-153¬∞, -117¬∞)!** –≠—Ç–æ –Ω–µ–Ω–æ—Ä–º–∞–ª—å–Ω–æ.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–Ω—è—Ç—å —Å–µ—Ä–≤–æ—Ä—ã—á–∞–≥–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏—Ö –±–ª–∏–∂–µ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ (—Å–º. [CALIBRATION.md](CALIBRATION.md), —Ä–∞–∑–¥–µ–ª "–ú–µ—Ç–æ–¥ 2").

–ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –æ—Ñ—Ñ—Å–µ—Ç—ã: **-30¬∞ –¥–æ +30¬∞**

---

## –ò—Ç–æ–≥

‚úÖ **main.cpp —Ç–µ–ø–µ—Ä—å —Å—Ç–∞—Ä—Ç—É–µ—Ç —Å Y=70mm** (–∫–∞–∫ –≤ –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–æ–π –ø—Ä–æ—à–∏–≤–∫–µ)
‚úÖ –ù–æ–≥–∏ –¥–æ–ª–∂–Ω—ã —Å—Ç–æ—è—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏
‚ö†Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ñ—Ñ—Å–µ—Ç—ã** - –µ—Å–ª–∏ –±–æ–ª—å—à–µ ¬±30¬∞, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—Ç–∞–≤–∏—Ç—å —Å–µ—Ä–≤–æ—Ä—ã—á–∞–≥–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏
