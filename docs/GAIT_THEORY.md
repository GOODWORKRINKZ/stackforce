# –¢–µ–æ—Ä–∏—è –ø–æ—Ö–æ–¥–æ–∫ (Gaits) –¥–ª—è –∫–æ–ª–µ—Å–Ω–æ-–Ω–æ–≥–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞

> –ü–µ—Ä–µ–≤–æ–¥ –∏ –∞–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ "ÁôªÂì•" (Deng Ge) –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Ö–æ–¥–æ–∫ (Trot, Bound, Pace)

## üìπ –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–∏–¥–µ–æ

–£—Ä–æ–∫ –ø–æ—Å–≤—è—â–µ–Ω **–ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è** (Ë∂≥ÂºèËøêÂä®) —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –ø–æ—Ö–æ–¥–æ–∫ (Ê≠•ÊÄÅ). –ê–≤—Ç–æ—Ä –æ–±—ä—è—Å–Ω—è–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏–∫—É, –∫–æ–¥ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.

---

## üéØ –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –ø–æ—Ö–æ–¥–∫–∏?

### 1. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** (00:02:35-00:03:26)

> "–ö–æ–ª–µ—Å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ - –∫–æ–ª–µ—Å–∞ –≤—Å–µ–≥–¥–∞ –∫–∞—Å–∞—é—Ç—Å—è –∑–µ–º–ª–∏, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞. –ù–æ–∂–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ - –Ω–æ–≥–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è/–æ–ø—É—Å–∫–∞—é—Ç—Å—è/–∫–∞—á–∞—é—Ç—Å—è, —Ü–µ–Ω—Ç—Ä –º–∞—Å—Å –ª–µ–≥–∫–æ —Å–º–µ—â–∞–µ—Ç—Å—è."

**–ë–µ–∑ –ø–æ—Ö–æ–¥–∫–∏** ‚Üí —Ö–∞–æ—Å, —Ä–æ–±–æ—Ç –ø–∞–¥–∞–µ—Ç  
**–° –ø–æ—Ö–æ–¥–∫–æ–π** ‚Üí –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–æ–≥–æ, –∫–∞–∫–∏–µ –Ω–æ–≥–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç, –∫–∞–∫–∏–µ –∫–∞—á–∞—é—Ç—Å—è

### 2. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** (00:03:26-00:04:18)

**–ü—Ä–∏–º–µ—Ä 1:** –í—ã—Å–æ—Ç–∞ –ø–æ–¥—ä–µ–º–∞ –Ω–æ–≥–∏
- –í—ã—à–µ –ø–æ–¥—ä–µ–º = –±–æ–ª—å—à–µ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
- –ü–æ—Ö–æ–¥–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –≤—ã—Å–æ—Ç—É

**–ü—Ä–∏–º–µ—Ä 2:** –°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–∏–∑–µ–º–ª–µ–Ω–∏—è
- –£–¥–∞—Ä –æ–± –∑–µ–º–ª—é = –±–æ–ª—å—à–æ–π —Ç–æ–∫, –∏–∑–Ω–æ—Å –º–æ—Ç–æ—Ä–æ–≤
- –ü–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–∑–µ–º–ª–µ–Ω–∏–µ = —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

> "–ü–æ—Ö–æ–¥–∫–∞ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç –≤—ã—Å–æ—Ç—É –ø–æ–¥—ä–µ–º–∞, –∞–º–ø–ª–∏—Ç—É–¥—É —à–∞–≥–∞, —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–∏–∑–µ–º–ª–µ–Ω–∏—è ‚Üí —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –Ω–∏–∑–∫–æ–µ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ, –¥–æ–ª–≥–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å"

---

## üåä –ü–æ—á–µ–º—É —Ü–∏–∫–ª–æ–∏–¥–∞ (ÊëÜÁ∫ø - Cycloid)?

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π:

–ê–≤—Ç–æ—Ä —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç 3 —Ç–∏–ø–∞ –∫—Ä–∏–≤—ã—Ö:

```
1. –¶–∏–∫–ª–æ–∏–¥–∞ (ÊëÜÁ∫ø) - –ø–ª–∞–≤–Ω–∞—è –≤–æ–ª–Ω–∞
2. –ó—É–±—á–∞—Ç–∞—è (ÈîØÈΩøÁ∫ø) - —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∞—è
3. –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è (Áü©ÂΩ¢Á∫ø) - –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É–≥–ª—ã
```

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö (05:38-07:27):

| –ö—Ä–∏–≤–∞—è | –ü–æ–∑–∏—Ü–∏—è | –°–∫–æ—Ä–æ—Å—Ç—å (1-—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è) | –£—Å–∫–æ—Ä–µ–Ω–∏–µ (2-—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è) |
|--------|---------|---------------------------|----------------------------|
| **–¶–∏–∫–ª–æ–∏–¥–∞** | –ü–ª–∞–≤–Ω–∞—è | –ü–ª–∞–≤–Ω–∞—è, –±–µ–∑ —Å–∫–∞—á–∫–æ–≤ | –ü–ª–∞–≤–Ω–∞—è |
| –ó—É–±—á–∞—Ç–∞—è | –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è, –Ω–µ –≥–ª–∞–¥–∫–∞—è | –ü–ª–æ—Å–∫–∏–µ —É—á–∞—Å—Ç–∫–∏ + —Ä–µ–∑–∫–∏–µ –∏–º–ø—É–ª—å—Å—ã | –¢–æ–ª—å–∫–æ –∏–º–ø—É–ª—å—Å—ã |
| –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è | –°–∫–∞—á–∫–∏ 0‚Üîmax | –†–µ–∑–∫–∏–µ –∏–º–ø—É–ª—å—Å—ã –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑ | –†–µ–∑–∫–∏–µ –∏–º–ø—É–ª—å—Å—ã |

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ü–∏–∫–ª–æ–∏–¥—ã:

**1. –ü–ª–∞–≤–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è** ‚Üí –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–æ–≥  
**2. –ü–ª–∞–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** ‚Üí –Ω–µ—Ç —Ä–µ–∑–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–æ—â–Ω–æ—Å—Ç–∏ –º–æ—Ç–æ—Ä–æ–≤  
**3. –ü–ª–∞–≤–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ** ‚Üí –∑–∞—â–∏—Ç–∞ –º–æ—Ç–æ—Ä–æ–≤/–º–µ—Ö–∞–Ω–∏–∫–∏ –æ—Ç —É–¥–∞—Ä–æ–≤

> "F = ma (–ù—å—é—Ç–æ–Ω). –†–µ–∑–∫–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ = —Ä–µ–∑–∫–∞—è —Å–∏–ª–∞. –¶–∏–∫–ª–æ–∏–¥–∞ –¥–∞–µ—Ç –ø–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∏–ª—ã ‚Üí –¥–æ–ª–≥–∞—è –∂–∏–∑–Ω—å –º–æ—Ç–æ—Ä–æ–≤ –∏ –º–µ—Ö–∞–Ω–∏–∫–∏."

---

## üìê –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ —Ü–∏–∫–ª–æ–∏–¥–Ω–æ–π —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏

### –°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (08:19):

```
–ù–∞—á–∞–ª–æ: –ü–ª–µ—á–µ–≤–æ–π —Å—É—Å—Ç–∞–≤ –∫–∞–∂–¥–æ–π –Ω–æ–≥–∏
X-–æ—Å—å: –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (–≤–ø–µ—Ä–µ–¥)
Y-–æ—Å—å: –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ (—É–¥–ª–∏–Ω–µ–Ω–∏–µ –Ω–æ–≥–∏)
```

### –î–≤–∞ —Ä–µ–∂–∏–º–∞ –Ω–æ–≥–∏:

1. **Swing Phase (ÊëÜÂä®Âêë)** - –Ω–æ–≥–∞ –≤ –≤–æ–∑–¥—É—Ö–µ, –∫–∞—á–∞–µ—Ç—Å—è –≤–ø–µ—Ä–µ–¥
2. **Stance Phase (ÊîØÊíëÂêë)** - –Ω–æ–≥–∞ –Ω–∞ –∑–µ–º–ª–µ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–ª–æ

### –£—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ (08:46-09:42):

**Swing Phase (ÊëÜÂä®):**
```cpp
X_swing(t) = -S/2 + S*œÉ - (S/(2*œÄ)) * sin(2*œÄ*œÉ)
Y_swing(t) = H_max - H + H * (1 - cos(2*œÄ*œÉ))
```

**Stance Phase (ÊîØÊíë):**
```cpp
X_stance(t) = S/2 - S*œÉ
Y_stance(t) = H_max
```

**–ì–¥–µ:**
- `S` = –∞–º–ø–ª–∏—Ç—É–¥–∞ —à–∞–≥–∞ (–Ω–∞—Å–∫–æ–ª—å–∫–æ –¥–∞–ª–µ–∫–æ –Ω–æ–≥–∞ —à–∞–≥–∞–µ—Ç)
- `H` = –≤—ã—Å–æ—Ç–∞ –ø–æ–¥—ä–µ–º–∞ –Ω–æ–≥–∏
- `H_max` = –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Ä–æ–±–æ—Ç–∞
- `œÉ` = —Ñ–∞–∑–∞, –º–µ–Ω—è–µ—Ç—Å—è –æ—Ç 0 –¥–æ 1 –≤ —Ç–µ—á–µ–Ω–∏–µ —Ü–∏–∫–ª–∞
- `t` = –≤—Ä–µ–º—è
- `T_s` = –ø–µ—Ä–∏–æ–¥ –ø–æ—Ö–æ–¥–∫–∏ (–≤—Ä–µ–º—è –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞)

**–§–∞–∑–∞:**
```cpp
œÉ = (t % T_s) / T_s  // –æ—Ç 0.0 –¥–æ 1.0
```

---

## üêï –¢–∏–ø—ã –ø–æ—Ö–æ–¥–æ–∫

### 1. **Trot (‰∫§ÂèâÊ≠•ÊÄÅ)** - –ù–ê–ò–ë–û–õ–ï–ï –†–ê–°–ü–†–û–°–¢–†–ê–ù–ï–ù–ù–´–ô

```
–ü–µ—Ä–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ —Ü–∏–∫–ª–∞ (0 ‚â§ t < T_s/2):
  Swing:  FL (–ø–µ—Ä–µ–¥–Ω—è—è –ª–µ–≤–∞—è) + BR (–∑–∞–¥–Ω—è—è –ø—Ä–∞–≤–∞—è)
  Stance: FR (–ø–µ—Ä–µ–¥–Ω—è—è –ø—Ä–∞–≤–∞—è) + BL (–∑–∞–¥–Ω—è—è –ª–µ–≤–∞—è)

–í—Ç–æ—Ä–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ —Ü–∏–∫–ª–∞ (T_s/2 ‚â§ t < T_s):
  Swing:  FR + BL
  Stance: FL + BR
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π (–≤—Å–µ–≥–¥–∞ 2 –Ω–æ–≥–∏ –Ω–∞ –∑–µ–º–ª–µ)
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π
- ‚úÖ –•–æ—Ä–æ—à –¥–ª—è —Å—Ä–µ–¥–Ω–∏—Ö —Å–∫–æ—Ä–æ—Å—Ç–µ–π
- üéØ **–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏–º–º–µ—Ç—Ä–∏—è**

### 2. **Bound (Ë∑≥Ë∑ÉÊ≠•ÊÄÅ)** - –í–´–°–û–ö–ê–Ø –°–ö–û–†–û–°–¢–¨

```
–ü–µ—Ä–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞:
  Swing:  FL + FR (–æ–±–µ –ø–µ—Ä–µ–¥–Ω–∏–µ)
  Stance: BL + BR (–æ–±–µ –∑–∞–¥–Ω–∏–µ)

–í—Ç–æ—Ä–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞:
  Swing:  BL + BR
  Stance: FL + FR
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ö° –ë—ã—Å—Ç—Ä—ã–π (–∫–∞–∫ –≥–∞–ª–æ–ø)
- ‚ö†Ô∏è –ú–µ–Ω–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π
- üéØ **–ü–µ—Ä–µ–¥–Ω–µ-–∑–∞–¥–Ω—è—è —Å–∏–º–º–µ—Ç—Ä–∏—è**

### 3. **Pace (Âêå‰æßÊ≠•ÊÄÅ)**

```
–ü–µ—Ä–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞:
  Swing:  FL + BL (–æ–±–µ –ª–µ–≤—ã–µ)
  Stance: FR + BR (–æ–±–µ –ø—Ä–∞–≤—ã–µ)

–í—Ç–æ—Ä–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞:
  Swing:  FR + BR
  Stance: FL + BL
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- üéØ **–õ–µ–≤–æ-–ø—Ä–∞–≤–∞—è —Å–∏–º–º–µ—Ç—Ä–∏—è**
- –ú–µ–Ω–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π

---

## üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –∫–æ–¥–µ (10:36-13:15)

### –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ Trot:

```cpp
void trot(float S, float H, float T_s) {
    t += dt;  // –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏
    
    float sigma = (t % T_s) / T_s;  // –§–∞–∑–∞ 0..1
    
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
    float x_swing = -S/2 + S*sigma - (S/(2*PI)) * sin(2*PI*sigma);
    float y_swing = H_max - H + H * (1 - cos(2*PI*sigma));
    float x_stance = S/2 - S*sigma;
    float y_stance = H_max;
    
    if (t < T_s/2) {
        // –ü–µ—Ä–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ —Ü–∏–∫–ª–∞
        leg_FL.x = x_swing;  leg_FL.y = y_swing;  // Swing
        leg_BR.x = x_swing;  leg_BR.y = y_swing;  // Swing
        leg_FR.x = x_stance; leg_FR.y = y_stance; // Stance
        leg_BL.x = x_stance; leg_BL.y = y_stance; // Stance
    } else {
        // –í—Ç–æ—Ä–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ —Ü–∏–∫–ª–∞
        leg_FR.x = x_swing;  leg_FR.y = y_swing;  // Swing
        leg_BL.x = x_swing;  leg_BL.y = y_swing;  // Swing
        leg_FL.x = x_stance; leg_FL.y = y_stance; // Stance
        leg_BR.x = x_stance; leg_BR.y = y_stance; // Stance
    }
}
```

### –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–∏–∑ –≤–∏–¥–µ–æ):

```cpp
// –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Ö–æ–¥–∫–∏ (–∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞)
void GaitGenerator(float t, float T_s, float S, float H, 
                   float* x_swing, float* y_swing,
                   float* x_stance, float* y_stance) {
    float sigma = fmod(t, T_s) / T_s;
    
    *x_swing = -S/2 + S*sigma - (S/(2*PI)) * sin(2*PI*sigma);
    *y_swing = H_max - H + H * (1 - cos(2*PI*sigma));
    *x_stance = S/2 - S*sigma;
    *y_stance = H_max;
}

// –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
void loop() {
    float x_swing, y_swing, x_stance, y_stance;
    
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
    GaitGenerator(t, T_s, S, H, &x_swing, &y_swing, &x_stance, &y_stance);
    
    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ –Ω–æ–≥–∞–º + –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –º–µ—Ö–∞–Ω–∏–∫–∏
    if (t < T_s/2) {
        // Trot –ø–µ—Ä–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞
        setLegPosition(FL, x_swing + offset_FL_x, y_swing + offset_FL_y);
        setLegPosition(BR, x_swing + offset_BR_x, y_swing + offset_BR_y);
        setLegPosition(FR, x_stance + offset_FR_x, y_stance + offset_FR_y);
        setLegPosition(BL, x_stance + offset_BL_x, y_stance + offset_BL_y);
    } else {
        // –í—Ç–æ—Ä–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞
        setLegPosition(FR, x_swing + offset_FR_x, y_swing + offset_FR_y);
        setLegPosition(BL, x_swing + offset_BL_x, y_swing + offset_BL_y);
        setLegPosition(FL, x_stance + offset_FL_x, y_stance + offset_FL_y);
        setLegPosition(BR, x_stance + offset_BR_x, y_stance + offset_BR_y);
    }
    
    // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üí –æ–±—Ä–∞—Ç–Ω–∞—è –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∞ ‚Üí —É–≥–ª—ã —Å–µ—Ä–≤–æ
    inverseKinematics();
    servos.setAngles(...);
}
```

---

## üîÑ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (14:13-15:59)

```
1. GaitMode("trot", S=50mm, H=20mm, T_s=1.0s)
   ‚Üì
2. GaitGenerator() ‚Üí x_swing, y_swing, x_stance, y_stance
   ‚Üì
3. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç 4 –Ω–æ–≥–∞–º (–ø–æ —Ñ–∞–∑–µ)
   ‚Üì
4. InverseKinematics(x, y) ‚Üí —É–≥–ª—ã alpha, beta
   ‚Üì
5. servos.setAngle(servo1..8, angles) ‚Üí —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
```

---

## ‚öôÔ∏è –ê–Ω–∞–ª–∏–∑ –Ω–∞—à–µ–≥–æ –∫–æ–¥–∞

### ‚ùå **–£ –ù–ê–° –ù–ï–¢ –°–ò–°–¢–ï–ú–´ –ü–û–•–û–î–û–ö!**

**–ß—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å:**

```cpp
// –ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã—Å–æ—Ç–æ–π –ø–æ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
X = -Kp_X * (targetSpeed - speedAvg);  // –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
Y = Y + Kp_Y * (Y_demand - Y);          // –ü–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã

// –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –∫—Ä–µ–Ω—É
stab_roll = stab_roll + Kp_roll * (0 - robotPose.roll);
float L_Height = Y + stab_roll;
float R_Height = Y - stab_roll;

// –í–°–ï –Ω–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ - –Ω–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π!
IKParam.XLeft = X;
IKParam.YLeft = L_Height;
IKParam.XRight = X;
IKParam.YRight = R_Height;

inverseKinematicsAll();  // –í—Å–µ 4 –Ω–æ–≥–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ!
```

**–ß–µ–≥–æ –ù–ï–¢:**
- ‚ùå –¶–∏–∫–ª–æ–∏–¥–Ω—ã–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏
- ‚ùå Swing/Stance —Ñ–∞–∑—ã
- ‚ùå Trot/Bound/Pace –ø–æ—Ö–æ–¥–∫–∏
- ‚ùå –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–æ–≥
- ‚ùå –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≥–∏

### üéØ **–ù–∞—à –ø–æ–¥—Ö–æ–¥ = –ì–∏–±—Ä–∏–¥–Ω—ã–π –∫–æ–ª–µ—Å–Ω–æ-–Ω–æ–∂–Ω—ã–π**

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º:
- –ö–æ–ª–µ—Å–∞ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è (–º–æ—Ç–æ—Ä—ã M0-M3)
- –ù–æ–≥–∏ –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –≤—ã—Å–æ—Ç—ã (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–∑–∞, –Ω–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –ø–æ—Ö–æ–¥–∫–∞)
- –í—Å–µ 4 –Ω–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (–Ω–µ —á–µ—Ä–µ–¥—É—é—Ç—Å—è)

**–≠—Ç–æ –ù–ï —á–∏—Å—Ç–∞—è –Ω–æ–∂–Ω–∞—è –ª–æ–∫–æ–º–æ—Ü–∏—è!**

---

## üöÄ –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Ö–æ–¥–∫–∏ –≤ –Ω–∞—à –∫–æ–¥

### –®–∞–≥ 1: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≥–∏

```cpp
struct LegCoordinates {
    float x, y;
};

LegCoordinates leg_FL, leg_FR, leg_BL, leg_BR;
```

### –®–∞–≥ 2: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ü–∏–∫–ª–æ–∏–¥—ã

```cpp
void cycloidTrajectory(float t, float T_s, float S, float H,
                       float* x_swing, float* y_swing,
                       float* x_stance, float* y_stance) {
    float sigma = fmod(t, T_s) / T_s;
    float two_pi = 2.0 * PI;
    
    // Swing phase (–≤ –≤–æ–∑–¥—É—Ö–µ)
    *x_swing = -S/2.0 + S*sigma - (S/two_pi) * sin(two_pi * sigma);
    *y_swing = H_max - H + H * (1.0 - cos(two_pi * sigma));
    
    // Stance phase (–Ω–∞ –∑–µ–º–ª–µ)
    *x_stance = S/2.0 - S*sigma;
    *y_stance = H_max;
}
```

### –®–∞–≥ 3: Trot –ø–æ—Ö–æ–¥–∫–∞

```cpp
float gait_time = 0;
float T_s = 1.0;  // 1 —Å–µ–∫—É–Ω–¥–∞ –Ω–∞ —Ü–∏–∫–ª

void trotGait(float S, float H) {
    float x_sw, y_sw, x_st, y_st;
    cycloidTrajectory(gait_time, T_s, S, H, &x_sw, &y_sw, &x_st, &y_st);
    
    bool first_half = (fmod(gait_time, T_s) < T_s/2.0);
    
    if (first_half) {
        // FL, BR swing
        leg_FL.x = x_sw; leg_FL.y = y_sw;
        leg_BR.x = x_sw; leg_BR.y = y_sw;
        // FR, BL stance
        leg_FR.x = x_st; leg_FR.y = y_st;
        leg_BL.x = x_st; leg_BL.y = y_st;
    } else {
        // FR, BL swing
        leg_FR.x = x_sw; leg_FR.y = y_sw;
        leg_BL.x = x_sw; leg_BL.y = y_sw;
        // FL, BR stance
        leg_FL.x = x_st; leg_FL.y = y_st;
        leg_BR.x = x_st; leg_BR.y = y_st;
    }
    
    gait_time += 0.005;  // 200Hz = 5ms
}
```

### –®–∞–≥ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ loop()

```cpp
void loop() {
    getRCValue();
    getMPUValue();
    
    // === –ü–û–•–û–î–ö–ê ===
    float S = map(RCValue[1], 172, 1811, -50, 50);  // –ê–º–ø–ª–∏—Ç—É–¥–∞ —à–∞–≥–∞
    float H = 20;  // –í—ã—Å–æ—Ç–∞ –ø–æ–¥—ä–µ–º–∞ 20–º–º
    
    trotGait(S, H);  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
    
    // === –û–ë–†–ê–¢–ù–ê–Ø –ö–ò–ù–ï–ú–ê–¢–ò–ö–ê –î–õ–Ø –ö–ê–ñ–î–û–ô –ù–û–ì–ò ===
    IKParam.XLeft = leg_FL.x;
    IKParam.YLeft = leg_FL.y + stab_roll;
    // ... –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ alpha, beta –¥–ª—è FL
    
    IKParam.XRight = leg_FR.x;
    IKParam.YRight = leg_FR.y - stab_roll;
    // ... –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ alpha, beta –¥–ª—è FR
    
    // –¢–æ –∂–µ –¥–ª—è BL, BR
    
    inverseKinematicsAll();
    sendToAux();
}
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –≤–∏–¥–µ–æ

| –≠–ª–µ–º–µ–Ω—Ç | –í–∏–¥–µ–æ (ÁôªÂì•) | –ù–∞—à –∫–æ–¥ | –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å |
|---------|-------------|---------|---------------|
| –¶–∏–∫–ª–æ–∏–¥–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è | ‚úÖ | ‚ùå | ‚ö†Ô∏è –§–æ—Ä–º—É–ª—ã ready |
| Swing/Stance —Ñ–∞–∑—ã | ‚úÖ | ‚ùå | ‚ö†Ô∏è –õ–æ–≥–∏–∫–∞ –ø—Ä–æ—Å—Ç–∞ |
| Trot –ø–æ—Ö–æ–¥–∫–∞ | ‚úÖ | ‚ùå | ‚ö†Ô∏è 50 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ |
| Bound –ø–æ—Ö–æ–¥–∫–∞ | ‚úÖ | ‚ùå | ‚ö†Ô∏è –ö–æ–ø–∏—è Trot |
| –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–æ–≥ | ‚úÖ | ‚ùå –í—Å–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ | ‚ö†Ô∏è –ù—É–∂–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ |
| –û–±—Ä–∞—Ç–Ω–∞—è –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∞ | ‚úÖ | ‚úÖ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç! |
| –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è | ‚úÖ | ‚ùå | ‚ö†Ô∏è –ü—Ä–æ—Å—Ç–æ–π —Å—á–µ—Ç—á–∏–∫ |
| GaitGenerator() | ‚úÖ –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω | ‚ùå | ‚ö†Ô∏è ~30 —Å—Ç—Ä–æ–∫ |

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ù–∞—à –∫–æ–¥ - **–ù–ï –Ω–æ–∂–Ω–∞—è –ª–æ–∫–æ–º–æ—Ü–∏—è!**

–ú—ã —Ä–µ–∞–ª–∏–∑—É–µ–º:
- ‚úÖ –ö–æ–ª–µ—Å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ (–æ—Å–Ω–æ–≤–Ω–æ–µ)
- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –≤—ã—Å–æ—Ç—ã –Ω–æ–≥
- ‚úÖ –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è pitch/roll
- ‚ùå **–ü–æ—Ö–æ–¥–∫–∏ (gaits)**
- ‚ùå **–¶–∏–∫–ª–∏—á–µ—Å–∫–æ–µ –Ω–æ–∂–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ**

### –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Ö–æ–¥–∫–∏:

1. **–õ–µ–≥–∫–æ**: ~100 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
2. **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –≥–æ—Ç–æ–≤–∞**: –¶–∏–∫–ª–æ–∏–¥–∞ –∏–∑ –≤–∏–¥–µ–æ
3. **IK —Ä–∞–±–æ—Ç–∞–µ—Ç**: –¢–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
4. **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç**: 8 —Å–µ—Ä–≤–æ + 200Hz

### –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –ø–æ—Ö–æ–¥–∫–∏?

- ‚ùå **–ù–µ –Ω—É–∂–Ω–æ**: –î–ª—è –∫–æ–ª–µ—Å–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ —Ä–æ–≤–Ω–æ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
- ‚úÖ **–ù—É–∂–Ω–æ**: –î–ª—è —á–∏—Å—Ç–æ–≥–æ –Ω–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è (–ª–µ—Å—Ç–Ω–∏—Ü—ã –±–µ–∑ –∫–æ–ª–µ—Å)
- ‚úÖ **–ù—É–∂–Ω–æ**: –î–ª—è –ø–µ—Ä–µ—à–∞–≥–∏–≤–∞–Ω–∏—è –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
- ‚úÖ **–ù—É–∂–Ω–æ**: –î–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ

---

## üìö –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫ (–∏–∑ –≤–∏–¥–µ–æ 18:10)

> "–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫: –ò—Å–ø–æ–ª—å–∑—É–µ–º IMU –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Å–ª–æ–∂–Ω–æ–º —Ä–µ–ª—å–µ—Ñ–µ"

–≠—Ç–æ **—É—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –º—ã —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏!** (STABILIZATION_THEORY.md)

**–ü–æ—Ä—è–¥–æ–∫ —É—Ä–æ–∫–æ–≤:**
1. Lesson 3: IMU ‚úÖ
2. Lesson 4: Gait (—ç—Ç–æ –≤–∏–¥–µ–æ) ‚ùå –£ –Ω–∞—Å –Ω–µ—Ç
3. Lesson 5: Stabilization ‚úÖ –£ –Ω–∞—Å –µ—Å—Ç—å!

–ú—ã –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ –ø–æ—Ö–æ–¥–∫–∏ –∏ —Å—Ä–∞–∑—É —Å–¥–µ–ª–∞–ª–∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –∫–æ–ª–µ—Å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞!
